<ion-header class="ion-no-border" mode="ios">
    <ion-toolbar>
        <ion-title style="margin-top: 6px;">{{titulo}}</ion-title>
        <ion-buttons slot="end">
            <ion-button style="margin-top: 8px;margin-right: 8px;" (click)="closeModal()">
                <ion-icon slot="icon-only" color="light" name="close"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-card class="ion-no-border" style="text-align: initial;" mode="ios">
        <ion-card-content>
            <form [formGroup]="FrmItem" (ngSubmit)="crearNoticia()">
                <ion-grid>
                    <ion-row>
                        <ion-input hidden type="text" formControlName="Id" name="Id"></ion-input>
                        <ion-col size="12">
                            <ion-item>
                                <ion-label color="light" position="floating">Titulo</ion-label>
                                <ion-input type="text" formControlName="Titulo" name="Titulo"></ion-input>
                            </ion-item>
                            <div *ngIf="!FrmItem.controls.Titulo.valid && (FrmItem.controls.Titulo.dirty || submitAttempt)">
                                <p class="text-error">Por favor ingresa un titulo.</p>
                            </div>
                        </ion-col>
                        <ion-col size="12">
                            <ion-item>
                                <ion-label color="light" position="floating">Descripción</ion-label>
                                <ion-textarea rows="5" formControlName="Descripcion" name="Descripcion">
                                </ion-textarea>
                            </ion-item>
                            <div *ngIf="!FrmItem.controls.Descripcion.valid && (FrmItem.controls.Descripcion.dirty || submitAttempt)">
                                <p class="text-error">Por favor ingresa una descripción.</p>
                            </div>
                        </ion-col>
                        <ion-col size="12">
                            <ion-item>
                                <ion-label color="light" position="floating">Visibilidad</ion-label>
                                <ion-select #SelectVisibilidad mode="ios" multiple="true" formControlName="Visibilidad" name="Visibilidad">
                                    <ion-select-option value="Alumno">Alumnos</ion-select-option>
                                    <ion-select-option value="Profesor">Profesores</ion-select-option>
                                    <ion-select-option value="Director">Administradores</ion-select-option>
                                </ion-select>
                            </ion-item>
                            <div *ngIf="!FrmItem.controls.Visibilidad.valid && (FrmItem.controls.Visibilidad.dirty || submitAttempt)">
                                <p class="text-error">Por favor seleccione al menos una Visibilidad.</p>
                            </div>
                        </ion-col>
                        <ion-col size="12">
                            <ion-item>
                                <ion-label color="light" position="floating">Escolaridad</ion-label>
                                <ion-select mode="ios" multiple="true" formControlName="Escolaridad" name="Escolaridad">
                                    <ion-select-option value="Kinder">Kinder</ion-select-option>
                                    <ion-select-option value="Elementary School">Primaria</ion-select-option>
                                    <ion-select-option value="Junior High School">Secundaria</ion-select-option>
                                    <ion-select-option value="High School">Preparatoria</ion-select-option>
                                </ion-select>
                            </ion-item>
                            <div *ngIf="!FrmItem.controls.Escolaridad.valid && (FrmItem.controls.Escolaridad.dirty || submitAttempt)">
                                <p class="text-error">Por favor seleccione al menos una Escolaridad.</p>
                            </div>
                        </ion-col>
                        <ion-col size="6">
                            <ion-item>
                                <ion-label color="light" position="floating">Fecha</ion-label>
                                <ion-datetime min="2020-12-01" max="2022-12-31" formControlName="FechaPublicacion" name="FechaPublicacion" displayFormat="DDDD DD MMM, YYYY" pickerFormat="DD MMMM YYYY"></ion-datetime>
                            </ion-item>
                            <div *ngIf="!FrmItem.controls.FechaPublicacion.valid && (FrmItem.controls.FechaPublicacion.dirty || submitAttempt)">
                                <p class="text-error">Por favor ingresa una fecha.</p>
                            </div>
                        </ion-col>
                        <ion-col size="6">
                            <ion-item>
                                <ion-label color="light" position="floating">Hora</ion-label>
                                <ion-datetime formControlName="HoraPublicacion" name="HoraPublicacion" displayFormat="hh:mm A" pickerFormat="hh mm A">
                                </ion-datetime>
                            </ion-item>
                            <div *ngIf="!FrmItem.controls.HoraPublicacion.valid && (FrmItem.controls.HoraPublicacion.dirty || submitAttempt)">
                                <p class="text-error">Por favor ingresa una hora.</p>
                            </div>
                        </ion-col>
                        <ion-col size="12">
                            <input #inputFilePortada style="opacity:0" name="Image" (change)="onFileChange($event)" type="file" accept="image/png, image/jpeg" />
                            <ion-button expand="full" type="button" icon-start outline block (click)="inputFilePortada.click()">
                                <ion-icon name="images"></ion-icon>
                                {{texto_adjuntar_portada}}
                            </ion-button>
                            <div *ngIf="!FrmItem.controls.Image.valid && (FrmItem.controls.Image.dirty || submitAttempt)">
                                <p class="text-error">Por favor selecciona una foto de portada.</p>
                            </div>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col size="12">
                            <ion-button expand="full" type="submit" block style="margin: 5% 0">{{tituloBoton}}</ion-button>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </form>
        </ion-card-content>
    </ion-card>
</ion-content>